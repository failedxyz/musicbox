<html>
	<head>
		<title>MusicBox</title>
	</head>
	<body>
		<h1>Enjoy some music!</h1>
		<ul id="songs"></ul>
		<p>Transcribed by Michael Zhang.</p>
		<script type="text/javascript" src="http://www.midijs.net/lib/midi.js"></script>
		<script src="https://code.jquery.com/jquery-2.1.4.min.js" integrity="sha384-R4/ztc4ZlRqWjqIuvf6RX5yb/v90qNGx6fS48N0tRxiGkqveZETq72KgDVJCp2TC" crossorigin="anonymous"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				$.get("songs.json", function(songs) {
					for(var i=0; i<songs.length; i++) {
						var song = songs[i];
						var el = document.createElement("li");
						var lnk = document.createElement("a");
						lnk.innerHTML = song["artist"] + " - " + song["title"];
						lnk.href = "javascript:void(0);";
						lnk.onclick = function() {
							MIDIjs.stop();
							MIDIjs.play("songs/" + song["id"] + ".mid");
						};
						el.appendChild(lnk);
						document.getElementById("songs").appendChild(el);
					}
				});
			});
		</script>
	</body>
</html>